<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>OVERRIDE MEDIA PLAYER — V:3.0</title>
  <style>
    :root{
      --bg:#000;
      --accent:#ff2b2b;
      --panel-bg: rgba(255,0,0,0.04);
      --btn-w: 260px;
    }
    html,body{height:100%;margin:0;background:var(--bg);color:var(--accent);font-family:Inter,Arial,Helvetica,sans-serif}
    .screen{display:none;min-height:100vh;padding:24px;box-sizing:border-box;text-align:center;position:relative}
    .active{display:block}
    h1{margin:0 0 18px;font-size:22px;letter-spacing:1.5px;text-transform:uppercase}
    .btn{display:block;width:var(--btn-w);margin:12px auto;padding:12px;border-radius:8px;background:transparent;border:2px solid var(--accent);color:var(--accent);cursor:pointer;text-transform:uppercase}
    .btn:hover{background:var(--accent);color:#000}
    .panel{max-width:760px;margin:12px auto;padding:18px;border-radius:10px;border:2px solid var(--accent);background:var(--panel-bg);box-sizing:border-box}
    .panel input{width:calc(100% - 22px);padding:10px;border-radius:6px;border:2px solid var(--accent);background:transparent;color:var(--accent);font-size:14px;box-sizing:border-box}
    .panel .controls{margin-top:12px;text-align:center}
    iframe{width:100%;max-width:900px;height:480px;border:2px solid var(--accent);border-radius:10px;margin-top:16px;background:#000}
    .version{position:fixed;left:12px;bottom:10px;color:var(--accent);opacity:0.9;font-weight:600}
    .note{font-size:13px;color:#a82b2b;opacity:0.9;margin-top:8px}
    /* small screens */
    @media (max-width:540px){
      .btn{width:92%}
      iframe{height:320px}
      .panel{padding:12px}
    }
  </style>
</head>
<body>
  <!-- MAIN -->
  <div id="mainMenu" class="screen active">
    <h1>OVERRIDE MEDIA PLAYER</h1>
    <button class="btn" onclick="show('videoMenu')">VIDEOS</button>
    <button class="btn" onclick="show('musicMenu')">MUSIC</button>
  </div>

  <!-- VIDEO MENU -->
  <div id="videoMenu" class="screen">
    <h1>VIDEO SOURCES</h1>
    <button class="btn" onclick="show('youtubeMenu')">YouTube Videos</button>
    <button class="btn" onclick="show('vimeoMenu')">Vimeo Videos</button>
    <button class="btn" onclick="show('dailymotionMenu')">Dailymotion Videos</button>
    <button class="btn" onclick="show('twitchMenu')">Twitch Videos</button>
    <button class="btn" onclick="show('tiktokMenu')">TikTok Videos</button>
    <button class="btn" onclick="show('mainMenu')">Back</button>
  </div>

  <!-- MUSIC MENU -->
  <div id="musicMenu" class="screen">
    <h1>MUSIC SOURCES</h1>
    <button class="btn" onclick="show('ytMusicMenu')">YouTube Music</button>
    <button class="btn" onclick="show('spotifyMenu')">Spotify</button>
    <button class="btn" onclick="show('appleMusicMenu')">Apple Music</button>
    <button class="btn" onclick="show('soundcloudMenu')">SoundCloud</button>
    <button class="btn" onclick="show('bandcampMenu')">Bandcamp</button>
    <button class="btn" onclick="show('audiomackMenu')">Audiomack</button>
    <button class="btn" onclick="show('mixcloudMenu')">Mixcloud</button>
    <button class="btn" onclick="show('deezerMenu')">Deezer</button>
    <button class="btn" onclick="show('mainMenu')">Back</button>
  </div>

  <!-- GENERIC PANEL TEMPLATE FUNCTIONS BELOW -->

  <!-- YOUTUBE -->
  <div id="youtubeMenu" class="screen">
    <h1>YOUTUBE PLAYER</h1>
    <div class="panel">
      <input id="ytLink" placeholder="Paste a YouTube watch / shorts / playlist link (youtube.com or youtu.be)">
      <div class="controls">
        <button class="btn" onclick="loadYouTube()">Load</button>
      </div>
      <div class="note">Supports normal videos, Shorts, and playlist links. Loop enabled when possible.</div>
    </div>
    <div id="ytEmbed"></div>
    <button class="btn" onclick="show('videoMenu')">Back</button>
  </div>

  <!-- VIMEO -->
  <div id="vimeoMenu" class="screen">
    <h1>VIMEO PLAYER</h1>
    <div class="panel">
      <input id="vimeoLink" placeholder="Paste a Vimeo video or album link (vimeo.com)">
      <div class="controls">
        <button class="btn" onclick="loadVimeo()">Load</button>
      </div>
      <div class="note">Vimeo accepts single videos and albums (if public). Loop attempted where allowed.</div>
    </div>
    <div id="vimeoEmbed"></div>
    <button class="btn" onclick="show('videoMenu')">Back</button>
  </div>

  <!-- DAILYMOTION -->
  <div id="dailymotionMenu" class="screen">
    <h1>DAILYMOTION PLAYER</h1>
    <div class="panel">
      <input id="dmLink" placeholder="Paste a Dailymotion link (dailymotion.com)">
      <div class="controls">
        <button class="btn" onclick="loadDailymotion()">Load</button>
      </div>
      <div class="note">Supports videos and playlists when Dailymotion provides list IDs.</div>
    </div>
    <div id="dmEmbed"></div>
    <button class="btn" onclick="show('videoMenu')">Back</button>
  </div>

  <!-- TWITCH -->
  <div id="twitchMenu" class="screen">
    <h1>TWITCH PLAYER</h1>
    <div class="panel">
      <input id="twitchLink" placeholder="Paste Twitch channel (twitch.tv/channel) or VOD (twitch.tv/videos/ID)">
      <div class="controls">
        <button class="btn" onclick="loadTwitch()">Load</button>
      </div>
      <div class="note">Twitch requires a valid parent domain for embedding (if you host the file on a domain, the parent parameter will use that hostname). Local files may not work for Twitch embeds.</div>
    </div>
    <div id="twitchEmbed"></div>
    <button class="btn" onclick="show('videoMenu')">Back</button>
  </div>

  <!-- TIKTOK -->
  <div id="tiktokMenu" class="screen">
    <h1>TIKTOK PLAYER</h1>
    <div class="panel">
      <input id="tiktokLink" placeholder="Paste TikTok video URL (tiktok.com/@user/video/ID)">
      <div class="controls">
        <button class="btn" onclick="loadTikTok()">Load</button>
      </div>
      <div class="note">TikTok embed support can vary. If the embed fails, try using the original share link.</div>
    </div>
    <div id="tiktokEmbed"></div>
    <button class="btn" onclick="show('videoMenu')">Back</button>
  </div>

  <!-- MUSIC PANELS -->

  <!-- YouTube Music (handled via YouTube embeds — accepts YT video/playlist/shorts links) -->
  <div id="ytMusicMenu" class="screen">
    <h1>YOUTUBE MUSIC (via YouTube)</h1>
    <div class="panel">
      <input id="ytmLink" placeholder="Paste YouTube / YouTube Music link (album, video, playlist)">
      <div class="controls"><button class="btn" onclick="loadYouTube('ytmLink','ytmEmbed')">Load</button></div>
      <div class="note">YouTube Music player is not embeddable directly — this uses the standard YouTube embed for music tracks/videos.</div>
    </div>
    <div id="ytmEmbed"></div>
    <button class="btn" onclick="show('musicMenu')">Back</button>
  </div>

  <!-- SPOTIFY -->
  <div id="spotifyMenu" class="screen">
    <h1>SPOTIFY PLAYER</h1>
    <div class="panel">
      <input id="spotifyLink" placeholder="Paste Spotify track/album/playlist link (open.spotify.com)">
      <div class="controls"><button class="btn" onclick="loadSpotify()">Load</button></div>
      <div class="note">Spotify embed may require user login for playback. If embedding on a domain, playback will work in most browsers when logged in.</div>
    </div>
    <div id="spotifyEmbed"></div>
    <button class="btn" onclick="show('musicMenu')">Back</button>
  </div>

  <!-- APPLE MUSIC -->
  <div id="appleMusicMenu" class="screen">
    <h1>APPLE MUSIC PLAYER</h1>
    <div class="panel">
      <input id="appleLink" placeholder="Paste Apple Music link (music.apple.com) — track/album/playlist">
      <div class="controls"><button class="btn" onclick="loadAppleMusic()">Load</button></div>
      <div class="note">Apple Music embed works best using Apple's embed URL format (embed.music.apple.com). Playback may require user access.</div>
    </div>
    <div id="appleEmbed"></div>
    <button class="btn" onclick="show('musicMenu')">Back</button>
  </div>

  <!-- SOUNDCLOUD -->
  <div id="soundcloudMenu" class="screen">
    <h1>SOUNDCLOUD PLAYER</h1>
    <div class="panel">
      <input id="scLink" placeholder="Paste SoundCloud track or playlist URL (soundcloud.com)">
      <div class="controls"><button class="btn" onclick="loadSoundCloud()">Load</button></div>
      <div class="note">SoundCloud provides official embed players for tracks and playlists.</div>
    </div>
    <div id="scEmbed"></div>
    <button class="btn" onclick="show('musicMenu')">Back</button>
  </div>

  <!-- BANDCAMP -->
  <div id="bandcampMenu" class="screen">
    <h1>BANDCAMP PLAYER</h1>
    <div class="panel">
      <input id="bcLink" placeholder="Paste Bandcamp album/track URL (artist.bandcamp.com)">
      <div class="controls"><button class="btn" onclick="loadBandcamp()">Load</button></div>
      <div class="note">Bandcamp embeds can require using their embed snippet. This attempts to use the common embed pattern; some links may not embed perfectly.</div>
    </div>
    <div id="bcEmbed"></div>
    <button class="btn" onclick="show('musicMenu')">Back</button>
  </div>

  <!-- AUDIOMACK -->
  <div id="audiomackMenu" class="screen">
    <h1>AUDIOMACK PLAYER</h1>
    <div class="panel">
      <input id="amLink" placeholder="Paste Audiomack track/playlist URL (audiomack.com)">
      <div class="controls"><button class="btn" onclick="loadAudiomack()">Load</button></div>
      <div class="note">Audiomack provides embed players for songs and playlists.</div>
    </div>
    <div id="amEmbed"></div>
    <button class="btn" onclick="show('musicMenu')">Back</button>
  </div>

  <!-- MIXCLOUD -->
  <div id="mixcloudMenu" class="screen">
    <h1>MIXCLOUD PLAYER</h1>
    <div class="panel">
      <input id="mcLink" placeholder="Paste Mixcloud show/mix URL (mixcloud.com)">
      <div class="controls"><button class="btn" onclick="loadMixcloud()">Load</button></div>
      <div class="note">Mixcloud embeds via their widget URL.</div>
    </div>
    <div id="mcEmbed"></div>
    <button class="btn" onclick="show('musicMenu')">Back</button>
  </div>

  <!-- DEEZER -->
  <div id="deezerMenu" class="screen">
    <h1>DEEZER PLAYER</h1>
    <div class="panel">
      <input id="dzLink" placeholder="Paste Deezer track/album/playlist URL (deezer.com)">
      <div class="controls"><button class="btn" onclick="loadDeezer()">Load</button></div>
      <div class="note">Deezer has an embeddable widget; this tries to create the standard Deezer widget iframe.</div>
    </div>
    <div id="dzEmbed"></div>
    <button class="btn" onclick="show('musicMenu')">Back</button>
  </div>

  <div class="version">V:3.0</div>

  <script>
    /* Simple screen switching */
    function show(id){
      document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      // clear embeds when switching to keep things tidy (optional)
    }

    /* Helper: safe HTML encode for when we inject raw attributes */
    function attrEscape(s){ return String(s).replace(/"/g,'&quot;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

    /* YouTube loader - supports video, shorts, playlist; loop where allowed */
    function loadYouTube(inputId='ytLink', targetId='ytEmbed'){
      const link = document.getElementById(inputId).value.trim();
      if(!link || (!link.includes('youtube.com') && !link.includes('youtu.be'))){
        alert('Please paste a YouTube or youtu.be link.');
        return;
      }
      try{
        let embed = '';
        if(link.includes('list=')){
          // playlist
          const params = new URL(link).searchParams;
          const list = params.get('list');
          embed = `https://www.youtube.com/embed/videoseries?list=${encodeURIComponent(list)}`;
        } else {
          // single video or shorts
          let id = '';
          if(link.includes('youtu.be/')){
            id = link.split('youtu.be/')[1].split(/[?&]/)[0];
          } else if(link.includes('/shorts/')){
            id = link.split('/shorts/')[1].split(/[?&]/)[0];
          } else {
            id = new URL(link).searchParams.get('v');
          }
          if(!id){ alert('Could not detect a video id.'); return; }
          // looping requires playlist parameter with same id
          embed = `https://www.youtube.com/embed/${encodeURIComponent(id)}?loop=1&playlist=${encodeURIComponent(id)}&rel=0`;
        }
        document.getElementById(targetId).innerHTML = `<iframe src="${attrEscape(embed)}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`;
      }catch(e){
        alert('Error parsing YouTube link.');
      }
    }

    /* Vimeo loader */
    function loadVimeo(){
      const link = document.getElementById('vimeoLink').value.trim();
      if(!link || !link.includes('vimeo.com')){ alert('Please paste a Vimeo link.'); return; }
      try{
        // vimeo urls: vimeo.com/123456 or vimeo.com/channels/.../123456 or vimeo.com/album/ALBUM_ID/video/VIDEO_ID
        // we'll take last numeric segment as id
        const parts = link.split('/');
        let id = parts.reverse().find(p => /^\d+$/.test(p));
        if(!id){
          alert('Could not find Vimeo numeric id in the link.');
          return;
        }
        const embed = `https://player.vimeo.com/video/${id}?loop=1`;
        document.getElementById('vimeoEmbed').innerHTML = `<iframe src="${attrEscape(embed)}" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>`;
      }catch(e){ alert('Error parsing Vimeo link.'); }
    }

    /* Dailymotion loader */
    function loadDailymotion(){
      const link = document.getElementById('dmLink').value.trim();
      if(!link || !link.includes('dailymotion.com')){ alert('Please paste a Dailymotion link.'); return; }
      try{
        // link usually contains /video/ID
        const m = link.match(/video\/([A-Za-z0-9]+)/);
        const id = m ? m[1] : null;
        if(!id){ alert('Could not parse Dailymotion video id.'); return; }
        const embed = `https://www.dailymotion.com/embed/video/${id}?queue-autoplay-next=0&loop=1`;
        document.getElementById('dmEmbed').innerHTML = `<iframe src="${attrEscape(embed)}" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>`;
      }catch(e){ alert('Error parsing Dailymotion link.'); }
    }

    /* Twitch loader (channels or videos). IMPORTANT: parent parameter must match your hosting domain. */
    function loadTwitch(){
      const link = document.getElementById('twitchLink').value.trim();
      if(!link || !link.includes('twitch.tv')){ alert('Please paste a twitch.tv link.'); return; }
      try{
        let embed = '';
        const hostname = location.hostname || 'localhost'; // if file://, hostname may be empty
        // trim trailing slash
        const clean = link.replace(/\/+$/,'');
        if(clean.includes('/videos/')){
          // VOD
          const vid = clean.split('/videos/')[1].split(/[?&]/)[0];
          if(!vid){ alert('Could not parse Twitch video id.'); return; }
          embed = `https://player.twitch.tv/?video=${encodeURIComponent(vid)}&parent=${encodeURIComponent(hostname)}&autoplay=false`;
        } else {
          // channel
          const channel = clean.split('twitch.tv/')[1].split(/[?&]/)[0];
          if(!channel){ alert('Could not parse Twitch channel.'); return; }
          embed = `https://player.twitch.tv/?channel=${encodeURIComponent(channel)}&parent=${encodeURIComponent(hostname)}&autoplay=false`;
        }
        document.getElementById('twitchEmbed').innerHTML = `<iframe src="${attrEscape(embed)}" frameborder="0" allowfullscreen></iframe>`;
      }catch(e){ alert('Error parsing Twitch link.'); }
    }

    /* TikTok loader - tries to use TikTok embed endpoint */
    function loadTikTok(){
      const link = document.getElementById('tiktokLink').value.trim();
      if(!link || !link.includes('tiktok.com')){ alert('Please paste a TikTok link.'); return; }
      try{
        // Best effort: use tiktok embed path if possible
        // Many TikTok embeds accept the full share link as src in an iframe: https://www.tiktok.com/embed/VIDEOID
        const m = link.match(/\/video\/([0-9]+)/);
        const id = m ? m[1] : null;
        let embed = '';
        if(id){
          embed = `https://www.tiktok.com/embed/${encodeURIComponent(id)}`;
        } else {
          // fallback to directly embedding the original URL (may or may not work)
          embed = link;
        }
        document.getElementById('tiktokEmbed').innerHTML = `<iframe src="${attrEscape(embed)}" frameborder="0" allowfullscreen></iframe>`;
      }catch(e){ alert('Error parsing TikTok link.'); }
    }

    /* MUSIC: YouTube Music handled by loading YouTube as above */
    /* loadYouTube can be re-used: call loadYouTube('ytmLink','ytmEmbed') when needed */
    // The button for YT Music already calls loadYouTube with custom ids via the onclick attribute in markup

    /* SPOTIFY loader */
    function loadSpotify(){
      const link = document.getElementById('spotifyLink').value.trim();
      if(!link || !link.includes('spotify.com')){ alert('Please paste a Spotify link.'); return; }
      try{
        // Spotify URLs: https://open.spotify.com/track/{id} or /playlist/{id} or /album/{id}
        const path = new URL(link).pathname; // e.g. /track/ID
        const parts = path.split('/').filter(Boolean);
        if(parts.length < 2){ alert('Could not parse Spotify URL.'); return; }
        const type = parts[0];
        const id = parts[1].split('?')[0];
        const embed = `https://open.spotify.com/embed/${encodeURIComponent(type)}/${encodeURIComponent(id)}`;
        // Spotify requires allow="encrypted-media"
        document.getElementById('spotifyEmbed').innerHTML = `<iframe src="${attrEscape(embed)}" width="100%" height="380" frameborder="0" allow="encrypted-media" allowfullscreen></iframe>`;
      }catch(e){ alert('Error parsing Spotify link.'); }
    }

    /* APPLE MUSIC loader */
    function loadAppleMusic(){
      const link = document.getElementById('appleLink').value.trim();
      if(!link || !link.includes('music.apple.com')){ alert('Please paste an Apple Music link.'); return; }
      try{
        // Apple embed base: https://embed.music.apple.com
        // Example original: https://music.apple.com/us/album/album-name/ALBUM_ID?i=TRACK_ID
        // We'll take everything after domain and prefix with embed.music.apple.com
        const url = new URL(link);
        const path = url.pathname; // includes /us/...
        const query = url.search; // keep query if includes ?i=
        const embed = `https://embed.music.apple.com${path}${query}`;
        document.getElementById('appleEmbed').innerHTML = `<iframe src="${attrEscape(embed)}" frameborder="0" width="100%" height="450" allow="autoplay; encrypted-media" allowfullscreen></iframe>`;
      }catch(e){ alert('Error parsing Apple Music link.'); }
    }

    /* SOUNDCLOUD loader */
    function loadSoundCloud(){
      const link = document.getElementById('scLink').value.trim();
      if(!link || !link.includes('soundcloud.com')){ alert('Please paste a SoundCloud link.'); return; }
      try{
        const embed = 'https://w.soundcloud.com/player/?url=' + encodeURIComponent(link) + '&auto_play=false';
        document.getElementById('scEmbed').innerHTML = `<iframe src="${attrEscape(embed)}" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>`;
      }catch(e){ alert('Error parsing SoundCloud link.'); }
    }

    /* BANDCAMP loader */
    function loadBandcamp(){
      const link = document.getElementById('bcLink').value.trim();
      if(!link || !link.includes('bandcamp.com')){ alert('Please paste a Bandcamp URL.'); return; }
      try{
        // Bandcamp embed patterns vary. A simple approach: use iframe with the album/track embed URL if present.
        // If link already includes /track/ or /album/ it's often embeddable via the same path but with the EmbeddedPlayer path is preferred.
        // Try to build a generic embed by injecting the url into their widget when possible:
        const encoded = encodeURIComponent(link);
        // This is a best-effort; Bandcamp's official embed format uses site-specific album/track numbers.
        const fallback = link;
        document.getElementById('bcEmbed').innerHTML =
          `<iframe src="${attrEscape(fallback)}" frameborder="0" width="100%" height="420" allowfullscreen></iframe>
           <div class="note">If this doesn't display, generate Bandcamp embed code from the album/track page and paste the embed URL.</div>`;
      }catch(e){ alert('Error parsing Bandcamp link.'); }
    }

    /* AUDIOMACK loader */
    function loadAudiomack(){
      const link = document.getElementById('amLink').value.trim();
      if(!link || !link.includes('audiomack.com')){ alert('Please paste an Audiomack link.'); return; }
      try{
        // Audiomack embed pattern: https://audiomack.com/embed/song/ARTIST/SONG-SLUG or /playlist/...
        // If the user pasted the album/song page, attempt to use the page URL in embed via embed endpoint - best-effort:
        const embed = link.includes('/embed/') ? link : ('https://audiomack.com/embed/song/' + encodeURIComponent(link.split('/').pop()));
        // fallback to raw link if embed path unknown
        const use = embed || link;
        document.getElementById('amEmbed').innerHTML = `<iframe src="${attrEscape(use)}" frameborder="0" width="100%" height="300" allowfullscreen></iframe>`;
      }catch(e){ alert('Error parsing Audiomack link.'); }
    }

    /* MIXCLOUD loader */
    function loadMixcloud(){
      const link = document.getElementById('mcLink').value.trim();
      if(!link || !link.includes('mixcloud.com')){ alert('Please paste a Mixcloud link.'); return; }
      try{
        const feed = encodeURIComponent(link);
        const embed = `https://www.mixcloud.com/widget/iframe/?feed=${feed}`;
        document.getElementById('mcEmbed').innerHTML = `<iframe src="${attrEscape(embed)}" frameborder="0" width="100%" height="200" allowfullscreen></iframe>`;
      }catch(e){ alert('Error parsing Mixcloud link.'); }
    }

    /* DEEZER loader */
    function loadDeezer(){
      const link = document.getElementById('dzLink').value.trim();
      if(!link || !link.includes('deezer.com')){ alert('Please paste a Deezer link.'); return; }
      try{
        // find item type and id from path: /track/ID or /playlist/ID or /album/ID
        const path = new URL(link).pathname;
        const parts = path.split('/').filter(Boolean);
        if(parts.length < 2){ alert('Could not parse Deezer URL.'); return; }
        const type = parts[0]; // may be language code; attempt to find type as last-2
        // Find numeric id
        const id = parts.reverse().find(p => /^\d+$/.test(p));
        if(!id){ alert('Could not find Deezer numeric id.'); return; }
        // For widget: https://widget.deezer.com/widget/dark/track/ID
        // Determine widget type by trying 'track' first; user can paste playlist/album and it often works when replacing type.
        const widgetType = parts.includes('track') ? 'track' : (parts.includes('playlist') ? 'playlist' : (parts.includes('album') ? 'album' : 'track'));
        const embed = `https://widget.deezer.com/widget/dark/${widgetType}/${id}`;
        document.getElementById('dzEmbed').innerHTML = `<iframe src="${attrEscape(embed)}" frameborder="0" width="100%" height="120" allowfullscreen></iframe>`;
      }catch(e){ alert('Error parsing Deezer link.'); }
    }

    // Re-use YouTube loader for YouTube Music via button onclick in HTML:
    // loadYouTube('ytmLink','ytmEmbed')

    /* Optional: Press Enter in inputs to trigger Load */
    document.addEventListener('keydown', function(e){
      if(e.key === 'Enter'){
        const focused = document.activeElement;
        if(!focused) return;
        // mapping of input IDs to loader functions
        const map = {
          'ytLink':()=>loadYouTube(),
          'vimeoLink':()=>loadVimeo(),
          'dmLink':()=>loadDailymotion(),
          'twitchLink':()=>loadTwitch(),
          'tiktokLink':()=>loadTikTok(),
          'ytmLink':()=>loadYouTube('ytmLink','ytmEmbed'),
          'spotifyLink':()=>loadSpotify(),
          'appleLink':()=>loadAppleMusic(),
          'scLink':()=>loadSoundCloud(),
          'bcLink':()=>loadBandcamp(),
          'amLink':()=>loadAudiomack(),
          'mcLink':()=>loadMixcloud(),
          'dzLink':()=>loadDeezer()
        };
        if(map[focused.id]) map[focused.id]();
      }
    });
  </script>
</body>
</html>